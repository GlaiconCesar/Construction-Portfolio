const dictionary = {
  en: {
    meta: {
      lang: 'en',
      title: 'Salon Privé - Construction Breakdown | Living Luxe Design Show 2024',
      description:
        'Case study of Salon Privé at the Living Luxe Design Show 2024, covering framing, steel stud layout, curved feature execution, and finish coordination.',
      ogTitle: 'Salon Privé - Construction Breakdown',
      ogDescription:
        'Bilingual construction case study: modular trade show build, structural system, curved framing technique, and finishing coordination.'
    },
    a11y: { skip: 'Skip to main content' },
    hero: {
      kicker: 'Construction Breakdown',
      eyebrow: 'Living Luxe Design Show 2024',
      title: 'Salon Privé - Construction Breakdown',
      summary:
        'This case study documents a modular and demountable trade show build executed under strict event deadlines. The work focused on framing precision, curved front geometry, and clean coordination with design and finishing trades.'
    },
    facts: {
      event: { label: 'Event:', value: 'Living Luxe Design Show 2024' },
      design: { label: 'Design:', value: 'Wise Nadel Design' },
      execution: { label: 'Execution:', value: 'IMP Construction Group' },
      role: { label: 'My Role:', value: 'Framing & Interior Build Support' },
      location: { label: 'Location:', value: 'Canada' }
    },
    overview: {
      title: 'Project Overview',
      body:
        'Salon Privé was delivered as a premium hospitality-style environment inside a temporary event venue. The construction approach required fast assembly, dimensional control, and detailing that could support high-end finishes while remaining compatible with trade show logistics and teardown requirements.'
    },
    scope: {
      title: 'Scope of Work (My Contribution)',
      items: [
        'Supported layout and assembly of light-gauge steel framing for perimeter walls and upper structure.',
        'Assisted with base platform preparation using plywood for stability and finish support.',
        'Contributed to curved front feature framing, including segmented/cut track setup and stud spacing adjustments.',
        'Coordinated framing interfaces with finishing and millwork teams to keep handoff clean and on schedule.'
      ]
    },
    structure: {
      title: 'Structural System Breakdown',
      base: {
        title: 'Base Platform',
        body:
          'The platform used plywood as the primary substrate, selected for rigidity, fastening reliability, and tolerance control across high-traffic zones. It provided a stable base for wall lines, furniture integration, and final finish interfaces.'
      },
      wall: {
        title: 'Wall & Upper Framing',
        body:
          'Walls and overhead structure were framed with light-gauge steel studs, supporting both straight and curved conditions. This system balanced speed, repeatability, and clean geometry for architectural finishes.'
      }
    },
    curve: {
      title: 'Curved Front Feature - Technical Execution',
      steps: [
        'Segmented track (kerf-style cuts) was laid out to define the front radius accurately.',
        'Stud spacing was tightened along the curve to maintain shape control and reduce flat spotting.',
        'Local reinforcement was added where load transfer and edge stability were required.',
        'A 1/4" (6 mm) raw MDF skin was installed over the framed arc to create a smooth continuous surface ready for finish prep.'
      ]
    },
    mdf: {
      title: 'Material Selection - Why 1/4" Raw MDF?',
      items: [
        'Thin MDF bends more predictably over curved framing than thicker boards, improving contour continuity.',
        'Raw MDF supports precise shaping and clean joint transitions in premium interior applications.',
        'Best practice: raw MDF is absorbent and should be sealed/primed properly before final finishing to control porosity and protect surface quality.'
      ]
    },
    finish: {
      title: 'Surface Preparation & Finishing Coordination',
      body:
        'Before final finishes, surfaces were aligned, fastener points treated, and transitions reviewed with finishing and millwork teams. Coordination focused on maintaining design intent, reducing rework risk, and meeting quality expectations under event deadlines.'
    },
    constraints: {
      title: 'Construction Constraints',
      items: [
        'Compressed schedule with fixed show opening date and strict sequencing windows.',
        'Multi-trade coordination in a temporary venue with limited install space and active logistics.',
        'Need for demountable construction strategy while preserving premium visual quality.'
      ]
    },
    skills: {
      title: 'Skills Demonstrated',
      items: [
        'Light-gauge steel framing layout and execution',
        'Curved wall geometry and segmented track application',
        'Material behavior awareness (MDF + plywood in finish-sensitive assemblies)',
        'Site coordination with design, finishing, and millwork trades'
      ]
    },
    positioning: {
      title: 'Professional Positioning',
      body:
        'This project supports roles in interior framing, trade show construction, premium retail/hospitality fit-outs, and site coordination positions requiring disciplined execution under schedule pressure.'
    },
    gallery: {
      title: 'Image Gallery',
      download: 'Download PDF Case Study (Placeholder)',
      openImage: 'Open image',
      viewerLabel: 'Image viewer',
      closeViewer: 'Close viewer',
      previousImage: 'Previous image',
      nextImage: 'Next image'
    },
    img_hero: 'Hero finished luxury booth interior',
    img_bar: 'Green stone bar feature detail',
    img_wine: 'Illuminated wine display wall',
    img_framing_arch: 'Metal framing during curved structure build',
    img_shell: 'Exterior shell nearing completion',
    img_framing_curve: 'Steel stud curved wall framing',
    img_brand: 'Wise Nadel Design Salon Privé branding',
    footer: {
      rights: 'Construction Portfolio'
    }
  },
  pt: {
    meta: {
      lang: 'pt-BR',
      title: 'Salon Privé - Desdobramento Construtivo | Living Luxe Design Show 2024',
      description:
        'Estudo de caso do Salon Privé no Living Luxe Design Show 2024, com foco em estruturação, modulação em steel frame leve, execução curva e coordenação de acabamento.',
      ogTitle: 'Salon Privé - Desdobramento Construtivo',
      ogDescription:
        'Estudo de caso bilíngue: montagem modular para feira, sistema estrutural, técnica de curva e coordenação de acabamentos.'
    },
    a11y: { skip: 'Pular para o conteúdo principal' },
    hero: {
      kicker: 'Desdobramento Construtivo',
      eyebrow: 'Living Luxe Design Show 2024',
      title: 'Salon Privé - Desdobramento Construtivo',
      summary:
        'Este estudo de caso registra uma montagem modular e desmontável para feira, executada com prazo de evento rigoroso. O foco foi precisão na estrutura, geometria da frente curva e coordenação limpa com design e equipes de acabamento.'
    },
    facts: {
      event: { label: 'Evento:', value: 'Living Luxe Design Show 2024' },
      design: { label: 'Design:', value: 'Wise Nadel Design' },
      execution: { label: 'Execução:', value: 'IMP Construction Group' },
      role: { label: 'Minha função:', value: 'Suporte em Estruturação e Construção Interna' },
      location: { label: 'Local:', value: 'Canadá' }
    },
    overview: {
      title: 'Visão Geral do Projeto',
      body:
        'O Salon Privé foi entregue como um ambiente premium de hospitalidade dentro de um espaço temporário de evento. A estratégia construtiva exigiu montagem rápida, controle dimensional e detalhamento compatível com acabamentos de alto padrão, sem perder a lógica de logística e desmontagem de feira.'
    },
    scope: {
      title: 'Escopo de Trabalho (Minha Contribuição)',
      items: [
        'Apoio no traçado e montagem da estrutura em perfis metálicos leves para paredes perimetrais e estrutura superior.',
        'Suporte na preparação da base com compensado para estabilidade e recebimento de acabamento.',
        'Atuação na execução da frente curva, incluindo trilho segmentado/cortado e ajuste de espaçamento de montantes.',
        'Coordenação das interfaces da estrutura com acabamento e marcenaria para manter transições limpas e cronograma.'
      ]
    },
    structure: {
      title: 'Desdobramento do Sistema Estrutural',
      base: {
        title: 'Plataforma de Base',
        body:
          'A base utilizou compensado como substrato principal, escolhido por rigidez, boa fixação e controle de tolerância em áreas de alto uso. Isso garantiu apoio estável para linhas de parede, integração de mobiliário e interfaces finais de acabamento.'
      },
      wall: {
        title: 'Paredes e Estrutura Superior',
        body:
          'As paredes e a estrutura elevada foram montadas com montantes metálicos leves, atendendo trechos retos e curvos. O sistema equilibrou velocidade, repetibilidade e geometria limpa para receber acabamento arquitetônico.'
      }
    },
    curve: {
      title: 'Frente Curva - Execução Técnica',
      steps: [
        'Foi feito o traçado com trilho segmentado (cortes tipo kerf) para definir com precisão o raio frontal.',
        'O espaçamento dos montantes foi reduzido na curva para manter forma contínua e evitar "facetas".',
        'Foram aplicados reforços pontuais onde havia necessidade de transferência de carga e estabilidade de borda.',
        'Uma pele de MDF cru de 1/4" (6 mm) foi instalada sobre o arco estruturado para criar superfície contínua pronta para preparo de acabamento.'
      ]
    },
    mdf: {
      title: 'Seleção de Material - Por que MDF cru de 1/4"?',
      items: [
        'MDF fino conforma melhor sobre estruturas curvas do que chapas mais espessas, preservando o raio.',
        'O MDF cru permite modelagem precisa e transições limpas de junta em interiores premium.',
        'Boa prática: MDF cru é absorvente e deve receber seladora/primer antes do acabamento final para controlar porosidade e qualidade superficial.'
      ]
    },
    finish: {
      title: 'Preparação de Superfície e Coordenação de Acabamento',
      body:
        'Antes do acabamento final, as superfícies foram alinhadas, pontos de fixação tratados e transições revisadas com as equipes de acabamento e marcenaria. A coordenação buscou preservar a intenção de projeto, reduzir retrabalho e manter o padrão de qualidade no prazo do evento.'
    },
    constraints: {
      title: 'Restrições de Construção',
      items: [
        'Cronograma comprimido, com data fixa de abertura do evento e janelas rígidas de sequência.',
        'Coordenação de múltiplas equipes em espaço temporário com área limitada e logística ativa.',
        'Necessidade de estratégia desmontável sem comprometer a leitura visual premium do ambiente.'
      ]
    },
    skills: {
      title: 'Competências Demonstradas',
      items: [
        'Traçado e execução de estrutura metálica leve',
        'Geometria de parede curva e aplicação de trilho segmentado',
        'Conhecimento de comportamento de materiais (MDF + compensado em sistemas sensíveis ao acabamento)',
        'Coordenação de obra com design, acabamento e marcenaria'
      ]
    },
    positioning: {
      title: 'Posicionamento Profissional',
      body:
        'Este projeto fortalece atuação em estruturação interna, construção para feiras, fit-out premium de varejo/hospitalidade e funções de coordenação de obra que exigem execução disciplinada sob pressão de prazo.'
    },
    gallery: {
      title: 'Galeria de Imagens',
      download: 'Baixar PDF do Estudo de Caso (Placeholder)',
      openImage: 'Abrir imagem',
      viewerLabel: 'Visualizador de imagens',
      closeViewer: 'Fechar visualizador',
      previousImage: 'Imagem anterior',
      nextImage: 'Próxima imagem'
    },
    img_hero: 'Interior finalizado do booth de luxo',
    img_bar: 'Detalhe do bar em pedra verde',
    img_wine: 'Parede iluminada com exposição de vinhos',
    img_framing_arch: 'Estrutura metálica durante execução curva',
    img_shell: 'Casca externa quase finalizada',
    img_framing_curve: 'Estrutura steel stud da parede curva',
    img_brand: 'Identidade Wise Nadel Design Salon Privé branding',
    footer: {
      rights: 'Portfólio de Construção'
    }
  }
};

function getValue(path, source) {
  return path.split('.').reduce((acc, part) => {
    if (acc === undefined || acc === null) return undefined;
    if (/^\d+$/.test(part)) return acc[Number(part)];
    return acc[part];
  }, source);
}

function updateMetadata(langPack) {
  document.documentElement.lang = langPack.meta.lang;
  document.title = langPack.meta.title;

  const description = document.querySelector('meta[name="description"]');
  const ogTitle = document.querySelector('meta[property="og:title"]');
  const ogDescription = document.querySelector('meta[property="og:description"]');

  if (description) description.setAttribute('content', langPack.meta.description);
  if (ogTitle) ogTitle.setAttribute('content', langPack.meta.ogTitle);
  if (ogDescription) ogDescription.setAttribute('content', langPack.meta.ogDescription);
}

function applyLanguage(lang) {
  const langPack = dictionary[lang] || dictionary.en;
  localStorage.setItem('preferredLanguage', lang);

  document.querySelectorAll('[data-i18n]').forEach((element) => {
    const key = element.getAttribute('data-i18n');
    const value = getValue(key, langPack);
    if (typeof value === 'string') {
      element.textContent = value;
    }
  });

  document.querySelectorAll('[data-i18n-alt]').forEach((element) => {
    const key = element.getAttribute('data-i18n-alt');
    const value = getValue(key, langPack);
    if (typeof value === 'string') {
      element.setAttribute('alt', value);
    }
  });

  document.querySelectorAll('[data-lang-btn]').forEach((button) => {
    const active = button.getAttribute('data-lang-btn') === lang;
    button.setAttribute('aria-pressed', String(active));
  });

  updateMetadata(langPack);

  window.__langPack = langPack;
  window.dispatchEvent(new CustomEvent('languagechange', { detail: { lang, langPack } }));
}

function getInitialLanguage() {
  const params = new URLSearchParams(window.location.search);
  const queryLang = params.get('lang');

  if (queryLang === 'en' || queryLang === 'pt') {
    return queryLang;
  }

  const saved = localStorage.getItem('preferredLanguage');
  if (saved === 'en' || saved === 'pt') {
    return saved;
  }

  return 'en';
}

window.addEventListener('DOMContentLoaded', () => {
  const initial = getInitialLanguage();
  applyLanguage(initial);

  document.querySelectorAll('[data-lang-btn]').forEach((button) => {
    button.addEventListener('click', () => {
      const selected = button.getAttribute('data-lang-btn');
      applyLanguage(selected);

      const url = new URL(window.location.href);
      url.searchParams.set('lang', selected);
      window.history.replaceState({}, '', url);
    });
  });

  document.getElementById('year').textContent = String(new Date().getFullYear());
});
